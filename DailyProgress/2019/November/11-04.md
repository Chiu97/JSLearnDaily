<h4> Summary </h4>
<blockquote>
    Critical Rendering Path <br>
</blockquote>

- <h4>Critical Rendering Path</h4>

    Reference:  
    [Google Web Developer](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/adding-interactivity-with-javascript)  

    从获取HTML,CSS,JavaScript到绘制到屏幕的过程被称为critical rendering path(CRP).  
    获取HTML字节流的时候会先生成对应的tokens,tokens有对应的HTML tags.
    根据这些HTML tags可以生成节点,然后根据节点之间的相互关系生成了DOM.而CSSOM的生成过程也是类似的,就不赘叙了.  
    遍历DOM中的可视节点并且应用对应的样式规则,可以获得渲染树(render tree).  
    渲染树有了内容和样式,接下来就是需要获得节点的集合位置了,而这正是布局(layout)要做的事情.  
    布局负责计算每个盒子的位置及大小,当布局完成后就可以进行绘制了.  
    DOM + CSSOM -> Render Tree -> Layout -> Paint  
    可以看出,在DOM或者是CSSOM生成之前都会阻塞渲染,但是DOM对于绘制而言是必须的,而有时不必要的部分CSS则成为了阻塞渲染的最大原因.这种时候,就需要考虑使用媒体和媒体访问来忽视掉一些不必须的CSSOM生成了.当然,就算是使用媒体访问,这些CSS文件还是会被下载,只是不会阻塞而已.  
    在DOM构造过程中,如果浏览器读到了JavaScript脚本,那它必须停止DOM的构建,直到javascript的执行完毕,而javascript又必须要等到CSSOM构造完毕.因为这种依赖关系,导致渲染的过程大大延迟.有时候如果是远程脚本,还必须要等到脚本下载完毕,导致时长大大增加.为了减少渲染时间,可以设置部分不需要阻塞渲染的script标签为async.  
    